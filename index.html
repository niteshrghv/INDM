<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INDM - Internet Download Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.2/echarts.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        gray: {
                            750: '#2d3748',
                            850: '#1a202c',
                            900: '#171717',
                            950: '#0a0a0a',
                        }
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="assets/icon.png">
</head>

<body class="text-gray-800 dark:text-gray-100 bg-white dark:bg-black transition-colors duration-200">

    <div class="app-container w-screen h-screen flex flex-col bg-white dark:bg-black overflow-hidden">
        <!-- Header -->
        <header
            class="glass-panel w-full h-[4.5rem] flex items-center justify-between px-8 z-10 relative shrink-0 dark:bg-black dark:border-gray-800">
            <div class="flex items-center gap-4">
                <img src="assets/icon.png" class="w-8 h-8 rounded-lg shadow-lg shadow-gray-500/30" alt="INDM Logo">
                <h1 class="text-lg font-semibold text-gray-800 dark:text-white">INDM <span
                        class="text-xs font-normal text-gray-500 ml-1">v1.0.0</span></h1>
            </div>

            <div class="flex-1 mx-12">
                <div class="relative max-w-md mx-auto">
                    <i
                        class="fa-solid fa-magnifying-glass absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    <input type="text" id="searchInput" placeholder="Search downloads..."
                        class="w-full pl-10 pr-4 py-2 rounded-full bg-gray-100 dark:bg-gray-900 border-none focus:ring-2 focus:ring-gray-500 text-sm text-gray-700 dark:text-gray-200 outline-none placeholder-gray-500">
                </div>
            </div>

            <div class="flex items-center gap-4">
                <button id="themeToggle"
                    class="w-9 h-9 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 flex items-center justify-center text-gray-500 dark:text-gray-400 transition">
                    <i class="fa-regular fa-moon"></i>
                </button>
                <div
                    class="w-9 h-9 rounded-full bg-gray-100 dark:bg-gray-900 flex items-center justify-center text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-gray-800">
                    <i class="fa-regular fa-user"></i>
                </div>
            </div>
        </header>

        <div class="flex flex-1 overflow-hidden">
            <!-- Sidebar -->
            <aside
                class="w-64 bg-white dark:bg-black border-r border-gray-200 dark:border-gray-800 flex flex-col transition-colors duration-200">
                <div class="py-6">
                    <div class="px-6 mb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">Categories</div>
                    <nav class="space-y-1" id="categoryNav">
                        <a href="#"
                            class="sidebar-item active flex items-center gap-3 px-6 py-3 text-sm font-medium text-gray-900 dark:text-white"
                            data-filter="all">
                            <i class="fa-solid fa-layer-group w-5 text-center"></i>
                            All Downloads
                        </a>
                        <a href="#"
                            class="sidebar-item flex items-center gap-3 px-6 py-3 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white"
                            data-filter="compressed">
                            <i class="fa-regular fa-file-zipper w-5 text-center"></i>
                            Compressed
                        </a>
                        <a href="#"
                            class="sidebar-item flex items-center gap-3 px-6 py-3 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white"
                            data-filter="document">
                            <i class="fa-regular fa-file-lines w-5 text-center"></i>
                            Documents
                        </a>
                        <a href="#"
                            class="sidebar-item flex items-center gap-3 px-6 py-3 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white"
                            data-filter="audio">
                            <i class="fa-solid fa-music w-5 text-center"></i>
                            Music
                        </a>
                        <a href="#"
                            class="sidebar-item flex items-center gap-3 px-6 py-3 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white"
                            data-filter="video">
                            <i class="fa-solid fa-video w-5 text-center"></i>
                            Video
                        </a>
                        <a href="#"
                            class="sidebar-item flex items-center gap-3 px-6 py-3 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white"
                            data-filter="software">
                            <i class="fa-brands fa-windows w-5 text-center"></i>
                            Programs
                        </a>
                    </nav>

                    <div class="px-6 mt-8 mb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">Status
                    </div>
                    <nav class="space-y-1" id="statusNav">
                        <a href="#"
                            class="sidebar-item flex items-center gap-3 px-6 py-3 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white"
                            data-status="completed">
                            <i class="fa-regular fa-circle-check w-5 text-center text-green-500"></i>
                            Finished
                        </a>
                        <a href="#"
                            class="sidebar-item flex items-center gap-3 px-6 py-3 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white"
                            data-status="downloading">
                            <i class="fa-solid fa-file-arrow-down w-5 text-center text-gray-800 dark:text-gray-200"></i>
                            Unfinished
                        </a>
                    </nav>
                </div>

                <!-- Network Traffic Widget -->
                <div class="mt-auto p-6 border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs font-medium text-gray-500 dark:text-gray-400">Global Speed</span>
                        <span class="text-sm font-bold text-black dark:text-white" id="globalSpeed">0 MB/s</span>
                    </div>
                    <!-- EChart Container -->
                    <div id="speedChart" style="width: 100%; height: 80px;"></div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 flex flex-col bg-gray-50 dark:bg-black transition-colors duration-200">
                <!-- Toolbar -->
                <div
                    class="px-8 py-6 bg-white dark:bg-black border-b border-gray-200 dark:border-gray-800 flex items-center gap-4">
                    <button id="newDownloadBtn"
                        class="flex items-center gap-2 bg-black dark:bg-white hover:bg-gray-800 dark:hover:bg-gray-200 text-white dark:text-black px-4 py-2 rounded-lg shadow-lg shadow-gray-500/30 transition">
                        <i class="fa-solid fa-plus"></i>
                        <span class="font-medium text-sm">Add URL</span>
                    </button>
                    <div class="h-8 w-px bg-gray-200 dark:bg-gray-800 mx-2"></div>
                    <button id="resumeBtn"
                        class="toolbar-btn flex flex-col items-center justify-center text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white gap-1 px-3 disabled:opacity-50">
                        <i class="fa-solid fa-play text-lg"></i>
                        <span class="text-[10px] font-medium uppercase tracking-wide">Resume</span>
                    </button>
                    <button id="pauseBtn"
                        class="toolbar-btn flex flex-col items-center justify-center text-gray-600 dark:text-gray-400 hover:text-orange-500 dark:hover:text-orange-400 gap-1 px-3 disabled:opacity-50">
                        <i class="fa-solid fa-pause text-lg"></i>
                        <span class="text-[10px] font-medium uppercase tracking-wide">Pause</span>
                    </button>
                    <button id="stopBtn"
                        class="toolbar-btn flex flex-col items-center justify-center text-gray-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 gap-1 px-3 disabled:opacity-50">
                        <i class="fa-solid fa-hand text-lg"></i>
                        <span class="text-[10px] font-medium uppercase tracking-wide">Stop</span>
                    </button>
                    <button id="deleteBtn"
                        class="toolbar-btn flex flex-col items-center justify-center text-gray-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 gap-1 px-3 disabled:opacity-50">
                        <i class="fa-regular fa-trash-can text-lg"></i>
                        <span class="text-[10px] font-medium uppercase tracking-wide">Delete</span>
                    </button>
                    <div class="h-8 w-px bg-gray-200 dark:bg-gray-800 mx-2"></div>
                    <button id="clearAllBtn"
                        class="flex flex-col items-center justify-center text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 gap-1 px-3">
                        <i class="fa-solid fa-broom text-lg"></i>
                        <span class="text-[10px] font-medium uppercase tracking-wide">Clear All</span>
                    </button>
                </div>

                <!-- Download List -->
                <div class="flex-1 p-8 overflow-auto">
                    <div
                        class="bg-white dark:bg-black rounded-xl border border-gray-200 dark:border-gray-800 shadow-sm overflow-hidden transition-colors duration-200">
                        <!-- Table Header -->
                        <div
                            class="grid grid-cols-12 gap-4 px-6 py-3 border-b border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-900/50 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                            <div class="col-span-5">File Name</div>
                            <div class="col-span-3">Progress</div>
                            <div class="col-span-1 text-right">Size</div>
                            <div class="col-span-2 text-right">Speed / Status</div>
                            <div class="col-span-1 text-right">Added</div>
                        </div>

                        <!-- List Items Container -->
                        <div id="downloadList">
                            <!-- Rows injected by renderer.js -->
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Add Modal -->
    <div id="addModal" class="fixed inset-0 bg-black/50 hidden flex items-center justify-center z-50 backdrop-blur-sm">
        <div
            class="bg-white dark:bg-gray-900 rounded-xl shadow-2xl w-[500px] p-6 transform transition-all scale-100 border border-gray-200 dark:border-gray-800">
            <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-6">Add New Download</h2>

            <div class="space-y-4">
                <div>
                    <label
                        class="block text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1">URL</label>
                    <input type="text" id="urlInput" placeholder="https://example.com/file.zip"
                        class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-black text-gray-900 dark:text-white focus:ring-2 focus:ring-gray-500 focus:border-gray-500 outline-none transition">
                </div>

                <div class="flex gap-4">
                    <div class="flex-1">
                        <label class="block text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1">File
                            Name
                            (Optional)</label>
                        <input type="text" id="fileNameInput" placeholder="archive.zip"
                            class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-black text-gray-900 dark:text-white focus:ring-2 focus:ring-gray-500 outline-none transition">
                    </div>
                    <div class="w-32">
                        <label
                            class="block text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1">Connections</label>
                        <select id="connectionsInput"
                            class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-black text-gray-900 dark:text-white focus:ring-2 focus:ring-gray-500 outline-none">
                            <option value="8">8</option>
                            <option value="16">16</option>
                            <option value="32" selected>32 (Max)</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="flex justify-end gap-3 mt-8">
                <button id="cancelBtn"
                    class="px-4 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium transition">Cancel</button>
                <button id="startDownloadBtn"
                    class="px-6 py-2 rounded-lg bg-black dark:bg-white hover:bg-gray-800 dark:hover:bg-gray-200 text-white dark:text-black font-medium shadow-lg shadow-gray-500/30 transition">Download</button>
            </div>
        </div>
    </div>

    <!-- Welcome Modal -->
    <div id="welcomeModal"
        class="fixed inset-0 bg-white z-[100] hidden flex flex-col items-center justify-center text-center p-8">
        <img src="assets/icon.png" class="w-24 h-24 mb-8 animate-bounce rounded-2xl shadow-2xl shadow-blue-500/40"
            alt="INDM Logo">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">Welcome to INDM</h1>
        <p class="text-lg text-gray-500 max-w-md mb-10">
            The ultimate download manager for your Mac. Fast, secure, and beautiful.
            Experience lightning speeds and seamless organization.
        </p>

        <div class="grid grid-cols-3 gap-8 mb-12 max-w-3xl w-full">
            <div class="p-6 bg-gray-50 rounded-xl border border-gray-100">
                <div
                    class="w-12 h-12 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center text-xl mb-4 mx-auto">
                    <i class="fa-solid fa-bolt"></i>
                </div>
                <h3 class="font-semibold text-gray-800 mb-2">Super Fast</h3>
                <p class="text-sm text-gray-500">Up to 32 parallel connections for maximum speed.</p>
            </div>
            <div class="p-6 bg-gray-50 rounded-xl border border-gray-100">
                <div
                    class="w-12 h-12 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center text-xl mb-4 mx-auto">
                    <i class="fa-solid fa-layer-group"></i>
                </div>
                <h3 class="font-semibold text-gray-800 mb-2">Organized</h3>
                <p class="text-sm text-gray-500">Auto-categorization for all your files.</p>
            </div>
            <div class="p-6 bg-gray-50 rounded-xl border border-gray-100">
                <div
                    class="w-12 h-12 bg-green-100 text-green-600 rounded-lg flex items-center justify-center text-xl mb-4 mx-auto">
                    <i class="fa-solid fa-shield-halved"></i>
                </div>
                <h3 class="font-semibold text-gray-800 mb-2">Secure</h3>
                <p class="text-sm text-gray-500">Safe and reliable downloads every time.</p>
            </div>
        </div>

        <button id="getStartedBtn"
            class="px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white text-lg font-semibold rounded-xl shadow-xl shadow-blue-500/30 transition transform hover:scale-105">
            Get Started
        </button>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed bottom-8 right-8 z-50 flex flex-col gap-3"></div>

    <script>
        require('./out/renderer.js');
    </script>
</body>

</html>